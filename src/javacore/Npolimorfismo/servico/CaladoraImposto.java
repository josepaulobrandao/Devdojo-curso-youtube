package javacore.Npolimorfismo.servico;

import javacore.Npolimorfismo.dominio.Produto;
import javacore.Npolimorfismo.dominio.Tomate;

public class CaladoraImposto {
	
//	public static void calcularImpostoComputador(Computador computador) {
//		System.out.println("Relatorio de imposto do computador...");
//		double imposto = computador.calcularImposto();
//		System.out.println("Imposto do computador: " + computador.getNome());
//		System.out.println("Valor do imposto do computador: " + computador.getValor());
//	}
//
//	public static void calcularImpostoTomate(Tomate tomate) {
//		System.out.println("Relatorio de imposto do tomate...");
//		double imposto = tomate.calcularImposto();
//		System.out.println("Imposto do computador: " + tomate.getNome());
//		System.out.println("Valor do imposto do tomate: " + tomate.getValor());
//	}
//	
	public static void calcularImposto(Produto produto) {
		System.out.println("Relatório de imposto");
		double imposto = produto.calcularImposto();
		System.out.println("Produto: " + produto.getNome());
		System.out.println("Preço: " + produto.getValor());
		System.out.println("Imposto a ser pago: " + imposto);
		
		if(produto instanceof Tomate) {
			Tomate tomate = (Tomate) produto;
			System.out.println(((Tomate) produto).getDataValidade());
		}
		/*
	        * A conversão de tipo em Java é usada para converter objetos ou variáveis de um tipo em outro.
	        * Quando estamos convertendo ou atribuindo um tipo de dados a outro, eles podem não ser compatíveis.
	        * Se for adequado, funcionará sem problemas, caso contrário, haverá chances de perda de dados.
	        *
	        * Tipos de conversão de tipos em Java
	        *   O Java Type Casting é classificado em dois tipos.
	        *       - Widening cast (Ímplicito) - conversão automática de tipo
	        *       - Narrowing cast (explicito) - precisa de conversão explicita
	        *
	        * Widening Cast (menor para o maior tipo): Pode ocorrer se os dois tipos forem compatíveis e o tipo
	        * destino for maior que o tipo origem
	        * ex.:
	        * byte source = 40;
	        * short target = source; (não precisa de casting pra short)
	        *
	        * Widening Cast (Tipo de classe): No exemplo abaixo, a classe Computer e Tomato são os tipos menores
	        * que estamos atribuindo ao tipo de classe Product, que é um tipo maior, portanto,
	        * nenhuma conversão é necessária.
	        *
	        * Narrowing Cast (maior para o menor tipo): Quando estamos atribuindo um tipo maior a um tipo menor,
	        * a conversão explicita é necessária.
	        * ex.:
	        * double source = 30.0;
	        * float target = (float) source; (precisa do casting explícito pra float)
	        *
	        * Narrowing Cast (Tipo de classe): Quando estamos atribuindo um tipo maior a um tipo menor,
	        * precisamos convertê -lo explicitamente.
	        * ex.:
	        * Product product = new Computer();
	        * Computer computer = (computer) product;
	        * System.out.println(computer.getName());
	        * */
	}
}
